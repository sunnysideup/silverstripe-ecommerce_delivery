if(null!==document.getElementById("PickUpOrDeliveryModifier_Form_PickUpOrDeliveryModifier")&&"undefined"!==typeof document.getElementById("PickUpOrDeliveryModifier_Form_PickUpOrDeliveryModifier")){(function(a){a(document).ready(function(){PickUpOrDeliveryModifier.init()})})(jQuery);var PickUpOrDeliveryModifier={formID:"PickUpOrDeliveryModifier_Form_PickUpOrDeliveryModifier",optionSetOptions:"PickupOrDeliveryType",loadingClass:"loading",actionsClass:"Actions",countryDropdownSelector:"select.ajaxCountryField",
notSelectedText:"-- not selected --",cartMessageClass:".cartMessage",availableCountries:[],EcomCart:{},init:function(){if("undefined"===typeof a){var a=require("./EcomCartWebPack");this.EcomCart=a.EcomCart}else PickUpOrDeliveryModifier.EcomCart=a;"undefined"!==typeof PickUpOrDeliveryModifierOptions&&(this.availableCountries=PickUpOrDeliveryModifierOptions);1>jQuery("#"+PickUpOrDeliveryModifier.formID+" input[name='"+PickUpOrDeliveryModifier.optionSetOptions+"']").length?jQuery("#"+PickUpOrDeliveryModifier.formID).hide():
(jQuery("#"+PickUpOrDeliveryModifier.formID).show(),a={beforeSubmit:PickUpOrDeliveryModifier.showRequest,success:PickUpOrDeliveryModifier.showResponse,dataType:"json"},jQuery("#"+PickUpOrDeliveryModifier.formID).ajaxForm(a),jQuery("#"+PickUpOrDeliveryModifier.formID+" ."+PickUpOrDeliveryModifier.actionsClass).hide(),PickUpOrDeliveryModifier.updateCountryList(),jQuery("#"+PickUpOrDeliveryModifier.formID+" input[name='"+PickUpOrDeliveryModifier.optionSetOptions+"']").change(function(){PickUpOrDeliveryModifier.updateCountryList();
jQuery("#"+PickUpOrDeliveryModifier.formID).submit()}))},showRequest:function(a,b,c){jQuery("#"+PickUpOrDeliveryModifier.formID).addClass(PickUpOrDeliveryModifier.loadingClass);return!0},showResponse:function(a,b){jQuery("#"+PickUpOrDeliveryModifier.formID).removeClass(PickUpOrDeliveryModifier.loadingClass);PickUpOrDeliveryModifier.EcomCart.setChanges(a)},addAvailableCountriesItem:function(a,b){PickUpOrDeliveryModifier.availableCountries[a]=b;return this},addItem:function(a,b){this.addAvailableCountriesItem(a,
b);return this},updateCountryList:function(){var a=jQuery("#"+PickUpOrDeliveryModifier.formID+" input[name='"+PickUpOrDeliveryModifier.optionSetOptions+"']").val(),b=jQuery(PickUpOrDeliveryModifier.countryDropdownSelector).val(),a=PickUpOrDeliveryModifier.availableCountries[a],c=!1;if(void 0==a||"undefined"==typeof a)a=[];1>a.length?jQuery(PickUpOrDeliveryModifier.countryDropdownSelector+" option").show():jQuery(PickUpOrDeliveryModifier.countryDropdownSelector+" option").hide();for(var d=0;d<a.length;d++)jQuery(PickUpOrDeliveryModifier.countryDropdownSelector+
" option[value='"+a[d]+"']").show(),b==a[d]&&(c=!0);1==a.length&&(jQuery(PickUpOrDeliveryModifier.countryDropdownSelector).val(a[0]),c=!0);c?jQuery(PickUpOrDeliveryModifier.countryDropdownSelector+" option.nothingSelected").hide():0<a.length&&(PickUpOrDeliveryModifier.nothingSelected(),jQuery(PickUpOrDeliveryModifier.countryDropdownSelector).change())},nothingSelected:function(){1>jQuery(PickUpOrDeliveryModifier.countryDropdownSelector+" option.nothingSelected").length?jQuery(PickUpOrDeliveryModifier.countryDropdownSelector).prepend('<option class="nothingSelected" value="-">'+
PickUpOrDeliveryModifier.notSelectedText+"</option>"):jQuery(PickUpOrDeliveryModifier.countryDropdownSelector+" option.nothingSelected").show();jQuery(PickUpOrDeliveryModifier.countryDropdownSelector).val("-")}}};
